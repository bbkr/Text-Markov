# Markov chain based text generator

## SYNOPSIS

```perl
    use Text::Markov;
    
    my $mc = Text::Markov.new;
    
    $mc.feed( qw{Easy things should be easy and hard things should be possible.} );
    $mc.feed( qw{People who live in glass houses should not throw stones.} );
    $mc.feed( qw{Live and let live.} );
    
    say $mc.read( );
    # People who live in glass houses should be easy and let live.
```

## METHODS

### new( dimensions => 2 )

Amount of dimensions (optional, default ```1```) controls how many predecessors in a row should determine successor weights.
Check [Improving output quality](#improving-output-quality) paragraph for details.

### feed( "foo", "bar", "baz" )

Add a sequence of objects to Markov graph.

### read( 128 )

Generate chain of objects up to requested length (optional, default ```1024```).

## OPERATING PRINCIPLE

[Markov chain](http://en.wikipedia.org/wiki/Markov_chain) is generated by jumping from the current state to one of the next possible states.
State can be a single object or a sequence of objects (more on that later) and possible jumps have weights assigned.

Let's take following sequences:

```
    foo bar
    foo bar
    foo bar
    foo baz
```

Chain will always begin with ```foo```.
Then it will jump to ```bar``` (75% chance) or ```baz``` (25% chance).
Then it will finish since there is no next object to jump to.

The same algorithm can cause jump between sequences. It is possible that:

```
    foo bar baz
    bar foo baz
```

Will produce ```foo bar foo bar baz```. New sequence (or sentence)!

### Improving output quality

Default setup will produce a lot of nonsense. For sentences like:

```
    I was tired.
    It was snowing.
    Today I was going to do something useful.
```

Sentence ```I was snowing.``` may be generated.
It happens because single ```was``` word does not give enough context to jump to rational successors only.

Param ```dimensions => 2``` in constructor allows to treat two subsequent words as one state.
So from ```I was``` only two jumps are possible and more reasonable ```Today I was tired.``` sentence may be generated.

***So:*** How many dimensions is enough?

Unfortunately there is no universal answer.
It all depends on language used because some languages carry more context in a single word than the others.

Let's take a look at two sentences:
```
    I read         a book.
    Przeczytałem   książkę.
```

In polish language informations - 'first person', 'past time', 'type of action' - are packed into one word ```Przeczytałem```,
which also enforces [accusative case](http://en.wikipedia.org/wiki/Accusative_case) on word ```książka``` transforming it into ```książkę```.
While in english four words total (including ```a```) are used and despite that there is still time ambiguity.

So english is more prone to successor nonsenses and requires higher ```dimension``` value and more feeds than polish.

You have to experiment :)

## LICENSE

Released under [Artistic License 2.0](http://www.perlfoundation.org/artistic_license_2_0).

## CONTACT

You can find me (and many awesome people who helped me to develop this module)
on irc.freenode.net #perl6 channel as **bbkr**.
